"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6107],{40396:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"code/cpp_qt/qtwidgets_tablewidget","title":"TableWidget","description":"TabWidget\u4e00\u4e9b\u4f7f\u7528\u65b9\u6cd5","source":"@site/docs/code/cpp_qt/qtwidgets_tablewidget.md","sourceDirName":"code/cpp_qt","slug":"/code/cpp_qt/qtwidgets_tablewidget","permalink":"/docs/code/cpp_qt/qtwidgets_tablewidget","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"custom_edit_url":null},"sidebar":"code","previous":{"title":"stackWidget & buttonGroup","permalink":"/docs/code/cpp_qt/qtwidgets_stackwidget_buttongroup"},"next":{"title":"widget\u63a7\u4ef6\u7684\u5e38\u7528\u4e8b\u4ef6","permalink":"/docs/code/cpp_qt/qtwidgets_widget_event"}}');var l=i(74848),r=i(28453);const d={custom_edit_url:null},s="TableWidget",c={},o=[{value:"setCellWidget\u5b58\u653eQWidget",id:"setcellwidget\u5b58\u653eqwidget",level:2},{value:"\u8868\u683c\u5c5e\u6027\u8bbe\u7f6e",id:"\u8868\u683c\u5c5e\u6027\u8bbe\u7f6e",level:2},{value:"\u5355\u51fb\u53cc\u51fb\u4e8b\u4ef6\u533a\u5206",id:"\u5355\u51fb\u53cc\u51fb\u4e8b\u4ef6\u533a\u5206",level:2},{value:"Code",id:"code",level:3},{value:"\u539f\u7406",id:"\u539f\u7406",level:3}];function a(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"tablewidget",children:"TableWidget"})}),"\n",(0,l.jsx)(t.p,{children:"TabWidget\u4e00\u4e9b\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,l.jsx)(t.h2,{id:"setcellwidget\u5b58\u653eqwidget",children:"setCellWidget\u5b58\u653eQWidget"}),"\n",(0,l.jsxs)(t.p,{children:["QTableWidget\u53ef\u4ee5",(0,l.jsx)(t.strong,{children:"\u5b58\u653eQWidget"}),"\uff0c\u4ee5",(0,l.jsx)(t.strong,{children:"\u989c\u8272\u8868\u5c55\u793a"}),"\u7a97\u53e3\u4e3a\u4f8b\u3002"]}),"\n",(0,l.jsx)(t.p,{children:"\u901a\u8fc7\u5f88\u591a\u524d\u7f00\u64cd\u4f5c\uff0c\u5f97\u5230\u4e00\u4e2a\u7ed8\u5236\u989c\u8272\u8868\u4fe1\u606f\u7684QWidget\u7684\u5b50\u7c7b\u201clinear_garadient_wgt\u201d, \u9700\u8981\u5728tablewidget\u4e2d\u5c55\u793a\u8fd9\u4e9b\u989c\u8272\u8868\u4fe1\u606f\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-cpp",children:"/// \u5c55\u793a\u754c\u9762\u7684\u6784\u9020\u51fd\u6570\r\n///\u201ccolortable_display_wgt::colortable_display_wgt(QWidget *parent) : QWidget(parent)\u201d\u4e2d\r\n///(\u8003\u8651\u5230\u4e4b\u540e\u53ef\u80fd\u662f\u4e00\u4e2a\u5b50\u6a21\u5757\uff0c\u6240\u4ee5\u6ca1\u6709\u7528QDialog, \u800c\u662fQWidget)\r\n\r\ntable_widget = new QTableWidget(this);\r\ntable_widget->setColumnCount(2);\r\n/// .... \u751f\u6210\u989c\u8272\u8868linear_garadient_wgt\u7684\u4e2d\u95f4\u8fc7\u7a0b\r\ntable_widget->setRowCount(colortable_path.size());\r\n\r\nint i=0;\r\nfor(auto iter: colortable_path)\r\n{\r\n    linear_gradient_wgt* wgt = new linear_gradient_wgt(table_widget);\r\n    QMap<double,QColor> map = wgt->read_cm_file(iter);\r\n    wgt->get_colormap(map);\r\n    QLabel *label = new QLabel(table_widget);\r\n    label->setText(QFileInfo(iter).fileName());\r\n    /// \u5411\u8868\u683c\u4e2d\u6dfb\u52a0QWidget\r\n    table_widget->setCellWidget(i,0,label);\r\n    table_widget->setCellWidget(i,1,wgt);\r\n    i++;\r\n}\r\n\n"})}),"\n",(0,l.jsx)(t.p,{children:"\u663e\u793a\u6548\u679c\u5982\u4e0b\uff1a"}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:i(30211).A+"",width:"490",height:"594"})}),"\n",(0,l.jsx)(t.h2,{id:"\u8868\u683c\u5c5e\u6027\u8bbe\u7f6e",children:"\u8868\u683c\u5c5e\u6027\u8bbe\u7f6e"}),"\n",(0,l.jsx)(t.p,{children:"QTableWidget \u7684\u8bbe\u7f6e\u5927\u90e8\u5206\u548ccell\u76f8\u5173\uff0c\u800c\u5173\u4e8e\u8868\u683c\u5c5e\u6027\u503c\u7684\u8bbe\u7f6e\u5219\u662f\u7ee7\u627f\u81eaQTableView\uff0c\u5e38\u7528\u7684\u5c5e\u6027\u6709:"}),"\n",(0,l.jsx)(t.p,{children:"\u8bbe\u7f6e\u8868\u683c\u7684\u5bbd\u9ad8 setColumnWidth()  setRowHeight()"}),"\n",(0,l.jsx)(t.p,{children:"\u8bbe\u7f6e\u6587\u5b57\u6362\u884c\u7b56\u7565 setWordWrap(bool on)"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"\u5c5e\u6027\u8bbe\u7f6e"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"\u4ee3\u7801"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u8868\u683c\u8868\u5934\u4fe1\u606f"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"horizontalHeader()->..."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u8868\u683c\u8868\u5934\u4fe1\u606f"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"verticalHeader()->..."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u8868\u683c\u7684\u5bbd"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"setColumnWidth(int col, int width)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u8868\u683c\u7684\u5bbd"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"setColumnWidth(int col, int width)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u8868\u683c\u7684\u9ad8"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"setRowHeight(int row, int height)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"\u8bbe\u7f6e\u6587\u5b57\u6362\u884c\u7b56\u7565"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"setWordWrap(bool on)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"..."}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"..."})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"\u5355\u51fb\u53cc\u51fb\u4e8b\u4ef6\u533a\u5206",children:"\u5355\u51fb\u53cc\u51fb\u4e8b\u4ef6\u533a\u5206"}),"\n",(0,l.jsx)(t.p,{children:'\u4ee5QTreeWidget\u4e3a\u4f8b, \u4f46\u4e5f\u5305\u542bQTreeView\u3001QTableWidget\u7b49\u63a7\u4ef6, \u90fd\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898, \u5373\u89e6\u53d1\u53cc\u51fb\u4e8b\u4ef6\u65f6\u5fc5\u7136\u4e5f\u4f1a\u89e6\u53d1\u4e24\u6b21\u53cc\u51fb\u4e8b\u4ef6\u3002\u5e76\u4e14\u8fd8\u4f1a\u5e26\u6765"\u53cc\u51fb\u6253\u5f00\u65b0\u7a97\u53e3\u4f46\u663e\u793a\u5728\u4e3b\u754c\u9762\u540e\u65b9"\u7684\u95ee\u9898.'}),"\n",(0,l.jsxs)(t.p,{children:["\u6839\u636e\u63a8\u65ad, \u9020\u6210\u8be5\u95ee\u9898\u7684\u539f\u56e0\u662f\u53cc\u51fb\u89e6\u53d1\u4e09\u4e2a\u4e8b\u4ef6: ",(0,l.jsx)(t.strong,{children:"clicked --\x3e double_clicked --\x3e clicked"}),", \u6253\u5f00\u7a97\u53e3\u518d\u6b21\u70b9\u51fb\u4e86\u4e3b\u754c\u9762\u7684QTreeWidget, \u4f7f\u7126\u70b9\u843d\u5728\u4e3b\u754c\u9762\u4e2d, \u5e76\u4e14\u5728double_clicked\u4e8b\u4ef6\u4e2d\u4fee\u6539\u65b0\u5efa\u7a97\u53e3\u5c5e\u6027\u7684\u65b9\u6cd5\u4e0d\u594f\u6548."]}),"\n",(0,l.jsx)(t.p,{children:"\u6240\u4ee5\u9700\u8981\u901a\u8fc7QTimer\u6765\u533a\u5206\u5355\u53cc\u51fb\u4e8b\u4ef6, \u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\u7684\u51fa\u73b0."}),"\n",(0,l.jsx)(t.h3,{id:"code",children:"Code"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-cpp",children:"QTimer timer;\r\nbool is_clicked;\r\n\r\nconnect(ui->treeWidget_tool,&QTreeWidget::itemClicked,this,[=](QTreeWidgetItem* item, int column){\r\n  if(is_clicked){ /// \u53cc\u51fb\r\n    treewidget_tool_double_clicked(item,column);\r\n    is_clicked = false;\r\n  }\r\n  else{\r\n    is_clicked = true;\r\n    connect(&timer,&QTimer::timeout,this,[=](){\r\n      /// \u5355\u51fb&\u590d\u4f4d\r\n      is_clicked = false;\r\n      timer.disconnect();\r\n      timer.stop();\r\n    });\r\n    timer.start(300);\r\n  }\r\n});\n"})}),"\n",(0,l.jsx)(t.h3,{id:"\u539f\u7406",children:"\u539f\u7406"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"\u53cc\u51fb\u4e4b\u524dis_clicked = false;"}),"\n",(0,l.jsxs)(t.li,{children:["\u5355\u51fb\u65f6, \u901a\u8fc7is_clicked \u533a\u522b\u6267\u884c\u7a0b\u5e8f;","\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"\u5982\u679cis_clicked == false, \u5219\u4ee4is_clicked = true, \u542f\u52a8QTimer\u8ba1\u65f6\u5668, \u5e76\u521b\u5efa\u8ba1\u65f6\u5668\u7ed3\u675f\u89e6\u53d1\u5355\u51fb\u4e8b\u4ef6\u7684\u4fe1\u53f7\u69fd. \u4e8b\u4ef6\u5305\u62ec: \u5355\u51fb\u5bf9\u5e94\u7684\u51fd\u6570\u3001\u5173\u95edQTimer, \u53d6\u6d88QTimer\u7684\u4fe1\u53f7\u69fd, is_clicked = false;"}),"\n",(0,l.jsx)(t.li,{children:"\u5982\u679cis_clicked == true, \u8bf4\u660e\u5728\u89e6\u53d1\u5668\u53d1\u51fa\u4fe1\u53f7\u524d\u518d\u6b21\u70b9\u51fb, \u89c6\u4e3a\u53cc\u51fb. \u6267\u884c\u53cc\u51fb\u4e8b\u4ef6, \u5e76\u5173\u95edQTimer, \u53d6\u6d88QTimer\u4fe1\u53f7\u69fd,  is_clicked = false. \u7531\u4e8e\u4ee3\u7801\u4e2d\u4ec5\u8003\u8651\u53cc\u51fb\u4e8b\u4ef6, \u6545\u53cc\u51fb\u540e\u4e0d\u9700\u8981\u6267\u884c\u4e0a\u8ff0\u5173\u95edQTimer\u7b49\u6b65\u9aa4, \u53ea\u9700\u8981\u7b49\u5230QTimer\u89e6\u53d1\u540e\u7531\u5355\u51fb\u90e8\u5206\u5e2e\u52a9\u6267\u884c."}),"\n"]}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},30211:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/qtablewidget_1-1533239ce17791737bfdfda9b649c7ac.png"},28453:(e,t,i)=>{i.d(t,{R:()=>d,x:()=>s});var n=i(96540);const l={},r=n.createContext(l);function d(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);