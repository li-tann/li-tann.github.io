"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3434],{3591:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var s=r(5893),t=r(1151);const i={sidebar_position:2,custom_edit_url:null},d="Std",l={id:"code/cpp/std",title:"Std",description:"\u4e00\u4e9b\u6807\u51c6\u5e93\u7684\u4f7f\u7528\u65b9\u6cd5",source:"@site/docs/code/cpp/std.md",sourceDirName:"code/cpp",slug:"/code/cpp/std",permalink:"/docs/code/cpp/std",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,custom_edit_url:null},sidebar:"code",previous:{title:"Std based Funs",permalink:"/docs/code/cpp/std_based_funs"},next:{title:"Eigen",permalink:"/docs/code/cpp/eigen"}},c={},o=[{value:"ofstream",id:"ofstream",level:2},{value:"\u7cbe\u5ea6\u8bbe\u7f6e",id:"\u7cbe\u5ea6\u8bbe\u7f6e",level:3},{value:"\u5360\u4f4d\u7b26 &amp; \u8f93\u51fa\u4f4d\u7f6e",id:"\u5360\u4f4d\u7b26--\u8f93\u51fa\u4f4d\u7f6e",level:3},{value:"ifstream",id:"ifstream",level:2},{value:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bfb\u53d6\u53ca\u8df3\u5b57\u8282",id:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bfb\u53d6\u53ca\u8df3\u5b57\u8282",level:3},{value:"filesystem",id:"filesystem",level:2},{value:"chrono",id:"chrono",level:2},{value:"\u8ba1\u65f6\u529f\u80fd",id:"\u8ba1\u65f6\u529f\u80fd",level:3},{value:"chrono::time_point -&gt; string",id:"chronotime_point---string",level:3},{value:"put_time &amp; get_time",id:"put_time--get_time",level:3},{value:"popen",id:"popen",level:2},{value:"map",id:"map",level:2},{value:"map\u4e0e\u4e09\u79cd\u51fd\u6570\u5173\u8054\u7684\u65b9\u6cd5",id:"map\u4e0e\u4e09\u79cd\u51fd\u6570\u5173\u8054\u7684\u65b9\u6cd5",level:3},{value:"\u666e\u901a\u7684\u51fd\u6570\u6307\u9488",id:"\u666e\u901a\u7684\u51fd\u6570\u6307\u9488",level:4},{value:"\u7c7b\u51fd\u6570\u6307\u9488",id:"\u7c7b\u51fd\u6570\u6307\u9488",level:4},{value:"lambda\u51fd\u6570",id:"lambda\u51fd\u6570",level:4},{value:"terminal(cmd) color",id:"terminalcmd-color",level:2},{value:"windows",id:"windows",level:3},{value:"linux",id:"linux",level:3}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"std",children:"Std"}),"\n",(0,s.jsx)(e.p,{children:"\u4e00\u4e9b\u6807\u51c6\u5e93\u7684\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,s.jsx)(e.h2,{id:"ofstream",children:"ofstream"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"#include<fstream>\r\nofstream temp(Filepath.txt);\r\ntemp<<\u2026\u2026\u2026;\r\ntemp.close();\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u7cbe\u5ea6\u8bbe\u7f6e",children:"\u7cbe\u5ea6\u8bbe\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'std::ofstream(const char* filepath);\r\n// \u4e0d\u9002\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\r\nofs<<std::fixed \r\n// \u6709\u6548\u6570\u5b57\u4f4d\u6570\r\nofs.precision(int num);\r\n// \u5f53\u8f93\u51fa\u4e00\u884c\u6570\u5b57\u7684\u7cbe\u5ea6\u4e0d\u540c\u65f6, \u6bcf\u6b21\u4fee\u6539\u7cbe\u5ea6\u524d\u5355\u72ec\u8bbe\u7f6e\u4e00\u6b21\r\nofs<<num<<"\\t";\r\nofs.precision(5);\r\nofs<<iter.incidence<<"\\t";\r\nofs.precision(2);\r\nofs<<iter.row<<"\\t"<<iter.col<<"\\t";\r\nofs.precision(5);\r\nofs<<iter.point.x<<"\\t"<<iter.point.y<<"\\t"<<iter.point.z<<"\\n";\r\n// ...\r\nofs.close();\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u5360\u4f4d\u7b26--\u8f93\u51fa\u4f4d\u7f6e",children:"\u5360\u4f4d\u7b26 & \u8f93\u51fa\u4f4d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"ofs<<std::right;\r\n    ofs<<std::setw(4)<<1<<std::setw(4)<<10<<std::setw(4)<<100<<std::endl;\r\n    ofs.close();\r\n\r\n/// \u8f93\u51fa\u7ed3\u679c\u683c\u5f0f\u5982\u4e0b\r\n/// \u201c___1__10_100\u201d(\u5c06\u7a7a\u683c\u66ff\u6362\u4e3a\u4e0b\u5212\u7ebf\u65b9\u4fbf\u67e5\u770b\u95f4\u8ddd)\n"})}),"\n",(0,s.jsx)(e.h2,{id:"ifstream",children:"ifstream"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'ifstream ifs;\r\nifs.open(txtsrc);\r\nif (!ifs.is_open()){\r\n    return false;\r\n}\r\n \r\nstring str;\r\nstring Separator = string(",");\r\nwhile (getline(ifs, str))\r\n{\r\n    /// str...\r\n}\r\nifs.close();\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bfb\u53d6\u53ca\u8df3\u5b57\u8282",children:"\u4e8c\u8fdb\u5236\u6587\u4ef6\u8bfb\u53d6\u53ca\u8df3\u5b57\u8282"}),"\n",(0,s.jsx)(e.p,{children:"\u573a\u666f\uff1a2022.3.17 \u5176\u4ed6\u8f6f\u4ef6\u65e0\u6cd5\u6b63\u5e38\u663e\u793a.dat"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'std::ifstream ifs("filepath",ifsteam::binary);\r\nif(!ifs.is_open()){\r\n    return false;\r\n}\r\ndouble value;\r\nwhile(ifs.read((char*)value,sizeof(double)/*8*/))\r\n{\r\n    //\u5982\u679cvalue\u5f02\u5e38 \uff08error\u53ea\u662f\u4e00\u4e2a\u5047\u60f3\u7684\u51fd\u6570\uff09\r\n    if(error(value)){\r\n        //ifs\u6307\u9488\u4ece\u5f53\u524d\u4f4d\u7f6e\uff08ios::cur\uff09\u5411\u524d\u8df3n-1\u7684\u5b57\u8282\uff0c\r\n        ifs.seekg(1-sizeof(double),ios::cur);\r\n        continue;\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:'std::ifstream ifs("filepath",ifsteam::binary)'}),"\uff0c\u7528\u4e8c\u8fdb\u5236\u65b9\u5f0f\u8bfb\u53d6\u6587\u4ef6\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ifs.read(char_type* ,streamsize )"}),"\uff0c\u6bcf\u6b21\u8bfb\u53d6",(0,s.jsx)(e.code,{children:"streamsize"}),"\u957f\u5ea6\u7684\u5b57\u8282\u6570\uff0c\u5e76\u5b58\u50a8\u5230\u6307\u5b9a\u4f4d\u7f6e(",(0,s.jsx)(e.code,{children:"char_type*"}),")\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"seekg:"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ifs.seekg(off_type,ios_base::seekDir)"})," ifs\u7684\u5f53\u524d\u6307\u9488\u79fb\u52a8\u5230",(0,s.jsx)(e.code,{children:"seekDir"}),"\u5904\u5e76\u504f\u79fb",(0,s.jsx)(e.code,{children:"off_type"}),"\u5b57\u8282\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["ios_base::seekDir:\r\n",(0,s.jsx)(e.code,{children:"ios::beg"})," \u8868\u793a\u8f93\u5165\u6d41\u7684\u5f00\u59cb\u4f4d\u7f6e"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ios::cur"})," \u8868\u793a\u8f93\u5165\u6d41\u7684\u5f53\u524d\u4f4d\u7f6e"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ios::end"})," \u8868\u793a\u8f93\u5165\u6d41\u7684\u7ed3\u675f\u4f4d\u7f6e"]}),"\n",(0,s.jsx)(e.h2,{id:"filesystem",children:"filesystem"}),"\n",(0,s.jsx)(e.p,{children:"c++17, \u7c7b\u4f3c\u4e8eQFileInfo"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"#include <filesystem>\r\nnamespace fs = std::filesystem;\r\nstd::string root_path;\r\nfs::path fs_path(root_path);\r\nbool ans;\r\nstd::string str_path = fs_path.string(); //\u8def\u5f84\u8f6c\u5b57\u7b26\u4e32\r\nans = fs_path.is_directory();  //\u6587\u4ef6\u5939\r\nans = fs_path.is_regular_file();   //\u6587\u4ef6\r\nfs::path fs_parentpath = fs_path.parent_path(); //\u6587\u4ef6\u7684\u8def\u5f84\r\n\r\nfs::path filename = fs_path.filename(); //\u6587\u4ef6\u540d\r\nfs::path extension = fs_path.extension(); //\u62d3\u5c55\u540d\uff08\u540e\u7f00\uff09\r\n\r\nfor (auto& iter : directory_iterator(root_path)){\r\n    //\u67e5\u770b\u5f53\u524d\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6/\u6587\u4ef6\u5939\r\n}\r\n\r\nfor (auto& iter : recursive_directory_iterator(root_path)){\r\n    //\u8fed\u4ee3\u67e5\u770b\u5f53\u524d\u8def\u5f84\u53ca\u5b50\u6587\u4ef6\u5185\u7684\u6240\u6709\u6587\u4ef6/\u6587\u4ef6\u5939\r\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"chrono",children:"chrono"}),"\n",(0,s.jsx)(e.h3,{id:"\u8ba1\u65f6\u529f\u80fd",children:"\u8ba1\u65f6\u529f\u80fd"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'auto start = std::chrono::system_clock::now();\r\nfunc();/// \u4e00\u4e2a\u8d39\u65f6\u7684\u51fd\u6570\r\nauto end = std::chrono::system_clock::now();\r\nauto duration = std::chrono::duration_cast<std::chrono::microseconds>(end - start);\r\ncout <<  "Spent" << double(duration.count()) * std::chrono::microseconds::period::num / std::chrono::microseconds::period::den << " seconds." << endl;\n'})}),"\n",(0,s.jsxs)(e.p,{children:["C++11\u7684 ",(0,s.jsx)(e.code,{children:"#include<chrono>"})," \u901a\u8fc7\u6a21\u677f\u8c03\u6574\u7cbe\u5ea6\u53ef\u4ee5\u8fbe\u5230\u5fae\u5999\u7ea7\uff0c\u76f8\u6bd4\u4f20\u7edf\u7684",(0,s.jsx)(e.code,{children:"#include <ctime>"})," \u7cbe\u5ea6\u66f4\u9ad8\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"chronotime_point---string",children:"chrono::time_point -> string"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c++",children:'auto tp = std::chrono::system_clock::now(); // time_point\r\ntime_t time = std::chrono::system_clock::to_time_t(tp);\r\nstd::stringstream ss;\r\nss << std::put_time(std::localtime(&time), "%Y-%m-%d %H:%M:%S");\r\nstd::string str = ss.str();\n'})}),"\n",(0,s.jsxs)(e.p,{children:["\u9996\u5148\u901a\u8fc7",(0,s.jsx)(e.code,{children:"to_time_t"}),"\u5c06",(0,s.jsx)(e.code,{children:"time_point"}),"\u8f6c\u6362\u4e3a",(0,s.jsx)(e.code,{children:"time_t"}),"\uff0c\u7136\u540e\u4f7f\u7528",(0,s.jsx)(e.code,{children:"std::localtime()"}),"\u5c06",(0,s.jsx)(e.code,{children:"time_t"}),"\u8f6c\u6362\u4e3a",(0,s.jsx)(e.code,{children:"tm"}),"\uff0c\u518d\u4f7f\u7528",(0,s.jsx)(e.code,{children:"put_time()"}),"\u5c06",(0,s.jsx)(e.code,{children:"tm"}),"\u8f6c\u6362\u4e3a\u6307\u5b9a\u8f93\u51fa\u683c\u5f0f\u7684",(0,s.jsx)(e.code,{children:"_TimeObj"}),"\uff0c\u5b58\u50a8\u5230",(0,s.jsx)(e.code,{children:"stringstream"}),"\u4e2d\uff0c\u6700\u540e\u901a\u8fc7",(0,s.jsx)(e.code,{children:"stringstream::str()"}),"\u8f6c\u6362\u4e3astring\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5982\u679c\u4f7f\u7528",(0,s.jsx)(e.code,{children:"tm"}),"\u5b58\u50a8\u65f6\u95f4\u6570\u636e\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528",(0,s.jsx)(e.code,{children:"put_time"}),"\u5c06\u65f6\u95f4\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"put_time--get_time",children:"put_time & get_time"}),"\n",(0,s.jsx)(e.p,{children:"\u6309\u7167\u6307\u5b9a\u683c\u5f0f\u8f93\u51fa\u548c\u83b7\u53d6\u65f6\u95f4"}),"\n",(0,s.jsxs)(e.p,{children:["\u53c2\u8003\u8d44\u6599\uff1a",(0,s.jsx)(e.a,{href:"http://www.bytekits.com/cppstdlib/cppstdlib-get-time.html",children:"get_time"}),", ",(0,s.jsx)(e.a,{href:"http://www.bytekits.com/cppstdlib/cppstdlib-put-time.html",children:"put_time"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"put_time\u7684\u94fe\u63a5\u4e2d\u5305\u542b\u4e86\u652f\u6301\u7684\u5404\u79cd\u683c\u5f0f\u8bf4\u660e\uff0c\u540c\u6837\u9002\u7528\u4e8eget_time"}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"center"},children:"\u8bf4\u660e\u7b26"}),(0,s.jsx)(e.th,{style:{textAlign:"center"},children:"\u66ff\u6362"}),(0,s.jsx)(e.th,{style:{textAlign:"center"},children:"\u793a\u4f8b"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%y"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"\u5e74\u4efd\uff0c\u6700\u540e\u4e24\u4f4d\u6570\u5b57\uff0800-99\uff09"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"01"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%Y"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"\u5e74\u4efd\uff0c\u56db\u4f4d\u6570\u5b57"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"2001"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%m"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"\u6708\u4efd\u7684\u5341\u8fdb\u5236\u6570\uff0801-12\uff09"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"08"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%M"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"\u5206\u949f\uff0800-59\uff09"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"56"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%d"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"\u6708\u4efd\u4e2d\u7684\u67d0\u4e00\u5929\uff0c\u7528\u96f6\u586b\u5145\uff0801-31\uff09"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"23"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%D"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"MM/DD/YY\u65e5\u671f\u7684\u7b80\u5199\uff0c\u76f8\u5f53\u4e8e\uff05m/\uff05d/\uff05y"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"08/23/19"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"%F"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"YYYY-MM-DD\u65e5\u671f\u7684\u7b80\u5199\uff0c\u76f8\u5f53\u4e8e\uff05Y-\uff05m-\uff05d"}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"2023-04-14"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"..."}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"..."}),(0,s.jsx)(e.td,{style:{textAlign:"center"},children:"..."})]})]})]}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'std::tm t = {};\r\nstd::istringstream ss("2011-Februar-18 23:12:34");\r\nss.imbue(std::locale("de_DE.utf-8"));\r\nss >> std::get_time(&t, "%Y-%b-%d %H:%M:%S");\r\n\r\nif (ss.fail())\r\n  std::cout << "Parse failed\\n";\r\nelse\r\n  std::cout << std::put_time(&t, "%c") << \'\\n\';\n'})}),"\n",(0,s.jsx)(e.p,{children:"copy from CMake Cookbook 3.7\u7ae0\u8282"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'// copy from CMake Cookbook 3.7\u7ae0\u8282\r\nstd::chrono::time_point<std::chrono::system_clock> start, end;\r\nstd::chrono::duration<double> elapsed_seconds;\r\nstd::time_t end_time;\r\nstart = std::chrono::system_clock::now();\r\n// ...\r\nend = std::chrono::system_clock::now();\r\n// Report times\r\nelapsed_seconds = end - start;\r\nend_time = std::chrono::system_clock::to_time_t(end);\r\nstd::cout <<"matrices allocated and initialized"\r\n          <<std::put_time(std::localtime(&end_time),"%a %b %d %Y %r\\n")\r\n          <<"elapsed time: "\r\n          <<elapsed_seconds.count()<<"s\\n";\r\n\r\n// cmd\u6253\u5370\u5185\u5bb9\r\n// matrices allocated and initialized Sun Jun 17 2018 11:04:20 AM\r\n// elapsed time: 0.0492328s\n'})}),"\n",(0,s.jsx)(e.h2,{id:"popen",children:"popen"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u8c03\u7528cmd\uff0c\u5e76\u4e14\u83b7\u53d6cmd\u5b9e\u65f6\u7684\uff08\u6bcf\u4e00\u884c\uff09\u8f93\u51fa\u7ed3\u679c\uff0c\u4ee3\u7801\u4e0e\u63a7\u5236\u53f0\u7684\u4ea4\u4e92\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsxs)(e.p,{children:["\u901a\u8fc7\u8c03\u7528cmd\uff0c\u6267\u884c",(0,s.jsx)(e.code,{children:"pip list"}),"\u547d\u4ee4\uff0c\u8be5\u547d\u4ee4\u662f\u67e5\u770bpip\u5305\u7ba1\u7406\u5de5\u5177\u4e2d\u5df2\u5b89\u88c5\u7684\u4f9d\u8d56\u5e93"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'char buffer[1024];\r\nconst char* szCmd = "pip";\r\nFILE* pipe = _popen(szCmd, "r");\r\nif (pipe != nullptr) {\r\n    while (fgets(buffer, 1024, pipe) != NULL){\r\n        std::cout << std::string(buffer);\r\n    }\r\n    fclose(pipe);\r\n}\r\n\n'})}),"\n",(0,s.jsx)(e.h2,{id:"map",children:"map"}),"\n",(0,s.jsx)(e.h3,{id:"map\u4e0e\u4e09\u79cd\u51fd\u6570\u5173\u8054\u7684\u65b9\u6cd5",children:"map\u4e0e\u4e09\u79cd\u51fd\u6570\u5173\u8054\u7684\u65b9\u6cd5"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u8fc7map\u5bb9\u5668\uff0c\u5c06\u679a\u4e3e\u6216\u5b57\u7b26\u4e32\u4e0e\u51fd\u6570\uff08\u901a\u8fc7\u51fd\u6570\u6307\u9488\u6216std::function\u7b49\u65b9\u6cd5\uff09\u76f8\u5173\u8054, \u53ef\u4ee5\u5b9e\u73b0\u5728\u5faa\u73af\u4e2d\u6839\u636e\u679a\u4e3e\u6216\u5b57\u7b26\u4e32\u9009\u62e9\u51fd\u6570\u7684\u529f\u80fd\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"\u666e\u901a\u7684\u51fd\u6570\u6307\u9488",children:"\u666e\u901a\u7684\u51fd\u6570\u6307\u9488"}),"\n",(0,s.jsx)(e.p,{children:"\u9002\u7528\u4e8e\u8c03\u7528\u666e\u901a\u7684\u51fd\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'bool fun1(int){\r\n    ///...\r\n}\r\nbool fun2(int){\r\n    ///...\r\n}\r\n\r\nstd::map<std::string, bool(*)(int)> funs_ = {\r\n    {"fun1", func1},\r\n    {"fun2", func2}\r\n}\r\n\r\nbool b = funs_["fun1"](10);\n'})}),"\n",(0,s.jsx)(e.h4,{id:"\u7c7b\u51fd\u6570\u6307\u9488",children:"\u7c7b\u51fd\u6570\u6307\u9488"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u8c03\u7528\u7c7b\u91cc\u7684\u51fd\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'/// .h\r\nclass Cs\r\n{\r\n    /// ...\r\n    void func1(const std::string&);\r\n    void func2(const std::string&);\r\n\r\n    /// \u5b9a\u4e49\u51fd\u6570\u6307\u9488\r\n    typedef void(Cs::*funcs_ptr)(const std::string&);\r\n    std::map<std::string, funcs_ptr> funs = {\r\n        {"func1",func1},\r\n        {"func2",func2}\r\n    };\r\n\r\n    void work(std::string, const std::string&);\r\n}\r\n\r\n/// .cpp\r\nvoid Cs::work(std::string func_name, const std::string& func_par)\r\n{\r\n    funs[func_name](func_par);\r\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"lambda\u51fd\u6570",children:"lambda\u51fd\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\u51fd\u6570\u6307\u9488\u6216fucntion\u90fd\u53ef\u4ee5\u5b9e\u73b0, \u4f46\u5b9e\u9645\u5199\u4ee3\u7801\u65f6\u53d1\u73b0\u4f7f\u7528\u51fd\u6570\u6307\u9488\u642d\u914dlambda\u51fd\u6570, \u5982\u679clambda\u51fd\u6570\u7684\u201c\u6355\u83b7\u5217\u8868\u201d\u4e0d\u4e3a\u7a7a\u65f6\u4f1a\u6709\u62a5\u9519\u63d0\u9192\uff0c\u4f46\u4f7f\u7528function\u5219\u4e0d\u4f1a\u51fa\u73b0\u62a5\u9519\u63d0\u793a\uff0c\u6240\u4ee5\u66f4\u5efa\u8bae\u4f7f\u7528map + function + lambda\u7684\u7ec4\u5408\u65b9\u5f0f\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5e94\u7528\u573a\u666f, \u8bfb\u53d6json\u6587\u4ef6\u65f6, \u4e0d\u540c\u7684\u5bf9\u8c61\u53ef\u80fd\u662f\u4e0d\u540c\u7684\u7c7b\u578b, \u5982\u679c\u6bcf\u6b21\u8bfb\u53d6\u5bf9\u8c61\u90fd\u8981\u5199\u51e0\u884c\u4ee3\u7801, \u4e0d\u7701\u65f6\u7701\u529b, \u8fd8\u5f88\u96be\u62d3\u5c55, \u4f7f\u7528map+lambda\u51fd\u6570\u89e3\u51b3\u8be5\u95ee\u9898\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'/// .h\r\nenum class para_type{string, number};\r\n/// tuple<bool, std::string> bool\u8bb0\u5f55\u51fd\u6570\u7684\u5904\u7406\u7ed3\u679c, string\u8bb0\u5f55\u9519\u8bef(\u6216\u6210\u529f)\u4fe1\u606f\r\nusing tuple_bs = std::tuple<bool, std::string>;\r\nclass read_json\r\n{\r\n    ///...\r\n    std::map<para_type, std::function<tuple_bs(nlohmann::ordered_json, const std::string&)>> para_check =\r\n    {\r\n        {para_type::string, [](nlohmann::ordered_json json_pars, const std::string& name) {\r\n            nlohmann::ordered_json json_par = json_pars[name];\r\n            if (json_par.is_null() || !json_par.is_string())\r\n                return std::make_tuple(false, fmt::format("\\"{}\\" is null or isn\'t string;", name));\r\n            return std::make_tuple(true, fmt::format("\\"{}\\" is qualified;", name));\r\n        }},\r\n        {para_type::number, [](nlohmann::ordered_json json_pars, const std::string& name) {\r\n            nlohmann::ordered_json json_par = json_pars[name];\r\n            if (json_par.is_null() || !json_par.is_number())\r\n                return std::make_tuple(false, fmt::format("\\"{}\\" is null or isn\'t number;", name));\r\n            return std::make_tuple(true, fmt::format("\\"{}\\" is qualified;", name));\r\n        }},\r\n    };\r\n}\r\n\r\n/// .cpp\r\n\r\ntuple_bs rst;\r\nbool no_error_par = true;\r\n/// \u5b9a\u4e49\u597d\u6240\u6709\u53d8\u91cf\u540d\u4ee5\u53ca\u5176\u5bf9\u5e94\u7684para_type\r\nstd::map<para_type, std::string> pars_info ={\r\n    {para_type::string, "xml_filepath"},\r\n    {para_type::number, "threshold"}\r\n};\r\nfor(auto it = pars_info.begin(); it != pars_info.end(); it++){\r\n    rst = para_check[it->first](json_pars, it->second);\r\n    /// \u5982\u679c\u8fd4\u56de\u503c\u4e3atrue, \u5219\u65e0\u9700\u9519\u8bef\u4fe1\u606f\r\n    if (!std::get<0>(rst))\r\n        pars_err_info += std::get<1>(rst);\r\n    /// \u5c06\u6bcf\u4e2a\u53c2\u6570\u8fd4\u56de\u7684bool\u503c\u4e0e\u4e4b\u524d\u6240\u6709\u7684bool\u503c\u8fdb\u884c\'&&\'\u4e0e\u8fd0\u7b97, \u5f53\u51fa\u73b0\u4e00\u4e2afalse\u65f6\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3afalse\r\n    no_error_par = no_error_par && std::get<0>(rst);\r\n}\r\n/// \u5982\u679cno_error_par\u4e3afalse, \u8bf4\u660e\u6709\u53c2\u6570\u7684\u68c0\u6d4b\u7ed3\u679c\u4e3afalse, \u5426\u5219\u8bf4\u660e\u5168\u90e8\u53c2\u6570\u90fd\u901a\u8fc7\u68c0\u6d4b\r\nif (!no_error_par) {\r\n    return std::make_tuple(false, pars_err_info);\r\n}\r\n\r\nreturn std::make_tuple(true, "inheritance read(ldsarXml_to_sbJson::read) success.");\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u8be5\u65b9\u6cd5\u5728\u7c7b\u4e2d\u5199\u51fd\u6570, \u4f7f\u7528map+\u51fd\u6570\u6307\u9488\u7684\u65b9\u5f0f\u540c\u6837\u53ef\u4ee5\u5b9e\u73b0\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"terminalcmd-color",children:"terminal(cmd) color"}),"\n",(0,s.jsx)(e.p,{children:"windows, linux\u63a7\u5236\u53f0\u6253\u5370\u5f69\u8272\u6587\u5b57"}),"\n",(0,s.jsx)(e.h3,{id:"windows",children:"windows"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"console_color",src:r(441).Z+"",width:"818",height:"336"})}),"\n",(0,s.jsx)(e.p,{children:"\u8f93\u51fa\u989c\u8272\u8868\u7684\u4ee3\u7801"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"#include <windows.h>\r\n#include <iostream>\r\n\r\nstd::cout<<std::right;\r\nfor(int i=0; i<16; i++){\r\n    for(int j=0; j<16; j++){\r\n        int value = i * 16 + j;\r\n        SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),value);\r\n        std::cout<<setw(5)<<value;\r\n    }\r\n    std::cout<<std::endl;\r\n}\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u8bbe\u7f6e",(0,s.jsx)(e.code,{children:"SetConsoleTextAttribute"}),"\u540e\uff0c\u4f1a\u5f71\u54cd\u6240\u6709\u7684\u6253\u5370\u5185\u5bb9\uff0c\u5982\u679c\u8981\u5207\u56de\u521d\u59cb\u6548\u679c\uff0c\u53ea\u80fd\u9009\u4e00\u4e2a\u8fd1\u4f3c\u7684\u503c\u8bbe\u7f6e\u3002\u9ed1\u5e95\u767d\u5b57\u6ca1\u6709\u52a0\u91cf\u5e94\u8be5\u662f",(0,s.jsx)(e.code,{children:"SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),7);"})]}),"\n",(0,s.jsx)(e.p,{children:"windows.h\u4e0eglog\u51b2\u7a81\uff0c\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"#define GLOG_NO_ABBREVIATED_SEVERITIES\r\n#include <windows.h>\r\n#include <glog/logging.h>\n"})}),"\n",(0,s.jsx)(e.h3,{id:"linux",children:"linux"}),"\n",(0,s.jsx)(e.p,{children:"linux\u4e2d\u5c31\u7b80\u5355\u5f88\u591a\uff0c\u4e0d\u9700\u8981\u6dfb\u52a0\u5e93\uff0ciostream\u5373\u53ef"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'std::cout<<"\\033[42m[INFO]\\033[0m:"<<"this is a info information"<<std::endl;\r\nstd::cout<<"\\033[43m[WARNING]\\033[0m:"<<"this is a warnding information"<<std::endl;\r\nstd::cout<<"\\033[41m[ERROR]\\033[0m:"<<"this is a error information"<<std::endl;\r\nstd::cout<<"\\033[45m[FATAL]\\033[0m:"<<"this is a fatal information"<<std::endl;\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6548\u679c\u5982\u56fe\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"console_color_linux",src:r(9099).Z+"",width:"590",height:"131"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"\\033[?m"}),"\u662flinux\u4e2d\u7684\u6307\u4ee4\uff0c\u5176\u4e2d",(0,s.jsx)(e.code,{children:"?"}),"\u90e8\u5206\u662f\u53ef\u4ee5\u4fee\u6539\u7684\u503c\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u5e38\u89c1\u7684\u8bbe\u7f6e\u4e3a\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[0m"})," \u5173\u95ed\u6240\u6709\u5c5e\u6027"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[1m"})," \u9ad8\u4eae"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[2m"})," \u4eae\u5ea6\u51cf\u534a"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[3m"})," \u659c\u4f53"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[4m"})," \u4e0b\u5212\u7ebf"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[5m"})," \u95ea\u70c1"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[6m"})," \u5feb\u95ea"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[7m"})," \u53cd\u663e"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[8m"})," \u6d88\u9690"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[9m"})," \u4e2d\u95f4\u4e00\u9053\u6a2a\u7ebf"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"10-19 \u5173\u4e8e\u5b57\u4f53\u7684\uff0c21-29 \u57fa\u672c\u4e0e1-9\u6b63\u597d\u76f8\u53cd"}),"\n",(0,s.jsx)(e.p,{children:"30-37 \u8bbe\u7f6e\u524d\u666f\u8272"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[30m"})," \u9ed1"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[31m"})," \u7ea2"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[32m"})," \u7eff"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[33m"})," \u9ec4"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[34m"})," \u84dd"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[35m"})," \u7d2b"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[36m"})," \u6df1"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[37m"})," \u767d"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"40-47 \u8bbe\u7f6e\u80cc\u666f\u8272"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[40m"})," \u9ed1\u8272\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[41m"})," \u7ea2\u8272\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[42m"})," \u7eff\u8272\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[43m"})," \u68d5\u8272\u80cc\u666f(\u9ec4)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[44m"})," \u84dd\u8272\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[45m"})," \u54c1\u7ea2\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[46m"})," \u5b54\u96c0\u84dd\u80cc\u666f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"\\033[47m"})," \u767d\u8272\u80cc\u666f"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u7b49\u7b49...\u540e\u9762\u8fd8\u6709\u5f88\u591a\u4f46\u4e0e\u989c\u8272\u65e0\u5173\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},441:(n,e,r)=>{r.d(e,{Z:()=>s});const s=r.p+"assets/images/console_color-41b8ee78d1ebe5f0eef97874099ccf39.png"},9099:(n,e,r)=>{r.d(e,{Z:()=>s});const s=r.p+"assets/images/console_color_linux-b8a989d9c6fd3cceed5e8a4e4905ef0d.png"},1151:(n,e,r)=>{r.d(e,{Z:()=>l,a:()=>d});var s=r(7294);const t={},i=s.createContext(t);function d(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);