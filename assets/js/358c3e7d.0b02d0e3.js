"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1905],{97906:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"code/cpp_qt/qclass_QString","title":"QString\u529f\u80fd","description":"QString\u7684\u8f6c\u7801\u529f\u80fd\u4ecb\u7ecd","source":"@site/docs/code/cpp_qt/qclass_QString.md","sourceDirName":"code/cpp_qt","slug":"/code/cpp_qt/qclass_QString","permalink":"/docs/code/cpp_qt/qclass_QString","draft":false,"unlisted":false,"editUrl":null,"tags":[{"inline":true,"label":"Cpp","permalink":"/docs/tags/cpp"},{"inline":true,"label":"Qt","permalink":"/docs/tags/qt"}],"version":"current","lastUpdatedBy":"li-tann","lastUpdatedAt":1735780614000,"frontMatter":{"custom_edit_url":null,"last_update":{"author":"li-tann"},"tags":["Cpp","Qt"]},"sidebar":"code","previous":{"title":"QNetWork\u4e0b\u8f7d\u6587\u4ef6","permalink":"/docs/code/cpp_qt/qclass_QNetWorkAccessManager"},"next":{"title":"QThread \u591a\u7ebf\u7a0b","permalink":"/docs/code/cpp_qt/qclass_QThread"}}');var i=n(74848),l=n(28453);const s={custom_edit_url:null,last_update:{author:"li-tann"},tags:["Cpp","Qt"]},c="QString\u529f\u80fd",o={},a=[{value:"QString\u7684\u8f6c\u7801\u529f\u80fd",id:"qstring\u7684\u8f6c\u7801\u529f\u80fd",level:2},{value:"1.fromlocal8bit(GB2312)-&gt;toUtf8",id:"1fromlocal8bitgb2312-toutf8",level:3},{value:"2.utf8-&gt;tolocal8bit(GB2312)",id:"2utf8-tolocal8bitgb2312",level:3},{value:"unicode()-&gt;?",id:"unicode-",level:3},{value:"QString\u7684\u67e5\u627e\u529f\u80fd",id:"qstring\u7684\u67e5\u627e\u529f\u80fd",level:2}];function d(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"qstring\u529f\u80fd",children:"QString\u529f\u80fd"})}),"\n",(0,i.jsx)(e.p,{children:"QString\u7684\u8f6c\u7801\u529f\u80fd\u4ecb\u7ecd"}),"\n",(0,i.jsx)(e.h2,{id:"qstring\u7684\u8f6c\u7801\u529f\u80fd",children:"QString\u7684\u8f6c\u7801\u529f\u80fd"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8f6c\u7801\u7684\u4e00\u4e9b\u4e2a\u4eba\u7ecf\u9a8c\uff1a\u6682\u65f6\u5148\u5199\u5230\u8fd9\u91cc\uff0c\u7b49\u6709\u7a7a\u4e86\u518d\u8f6c\u79fb\u5230cpp\u4e2d"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u4ee5\u6211\u5728windows\u7cfb\u7edf\u4e0b\u8fd0\u884c\u7684chatSAR_sub_projs\u5de5\u7a0b\u7684\u63a7\u5236\u53f0\u7a0b\u5e8f\u4e3a\u4f8b\uff0cQtCreator\u7684\u9ed8\u8ba4\u6587\u672c\u663e\u793a\u65b9\u5f0f\u4e3autf-8\uff0c"}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u4ea4\u4e92\u5f0f\u7684\u63a7\u5236\u53f0\u8f93\u5165\u8fdb\u53bb\u7684\u4e2d\u6587\uff0c\u662fgb2312\u683c\u5f0f\uff08\u4e0ewindows\u7cfb\u7edf\u76f8\u540c\uff09\uff0c\u800c\u5728QtCreator\u7684.h/.cpp\u9875\u9762\u4e2d\u5199\u5165\u7684\u4e2d\u6587\uff0c\u662futf-8\u683c\u5f0f\uff08\u4e0eIDE\u76f8\u540c\uff09\uff0c\u800c\u7a0b\u5e8f\u4e2d\u4f7f\u7528glog\u505a\u65e5\u5fd7\u8bb0\u5f55\u6587\u4ef6\uff0c\u751f\u6210\u7684\u65e5\u5fd7\u6587\u4ef6\u5219\u662futf-8\u683c\u5f0f\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"1fromlocal8bitgb2312-toutf8",children:"1.fromlocal8bit(GB2312)->toUtf8"}),"\n",(0,i.jsxs)(e.p,{children:["\u5728\u4ea4\u4e92\u5f0f\u63a7\u5236\u53f0\u8f93\u5165\u7684\u4e2d\u6587string\uff0c\u5982\u679c\u60f3\u8981\u6b63\u5e38\u4fdd\u5b58\u5230utf-8\u683c\u5f0f\u7684\u65e5\u5fd7\u6587\u4ef6\u4e2d\uff1a\u5219\u9700\u8981\u5148\u4ece\u7cfb\u7edf\u7684\u7f16\u7801\u683c\u5f0f\u8f6c\u6210Qt\u7684\u7f16\u7801\u683c\u5f0f",(0,i.jsx)(e.code,{children:"QString qstr = QString::fromLocal8bit(str.c_str())"}),",\u7136\u540e\u518d\u8f6c\u6362\u6210utf-8\u683c\u5f0f",(0,i.jsx)(e.code,{children:"LOG(INFO)<<qstr.toUtf8().data()"}),";"]}),"\n",(0,i.jsx)(e.h3,{id:"2utf8-tolocal8bitgb2312",children:"2.utf8->tolocal8bit(GB2312)"}),"\n",(0,i.jsxs)(e.p,{children:["\u5982\u679c\u60f3\u8981\u63a7\u5236\u53f0\u6b63\u5e38\u7684\u663e\u793a\u5728IDE\u4e2d\u5199\u5165\u7684\u4e2d\u6587\uff0c\u5c31\u9700\u8981\u4eceutf-8\u7f16\u7801\u683c\u5f0f\u8f6c\u6362\u5230GB2312(local8bit)\u3002\u5373\u4ee5\u4ee5\u4e0b\u65b9\u5f0f\u8f93\u51fa\uff1a",(0,i.jsx)(e.code,{children:'printf("%s\\n",QString("\u4e2d\u6587").toLocal8Bit().data())'})]}),"\n",(0,i.jsx)(e.h3,{id:"unicode-",children:"unicode()->?"}),"\n",(0,i.jsx)(e.p,{children:"\u901a\u8fc7\u67e5\u8be2\u8d44\u6599\u53ef\u77e5\uff0cQString\u662f\u4f7f\u7528Unicode\u7f16\u7801\u683c\u5f0f\u5b58\u50a8\u4fe1\u606f\u7684\uff0c\u6240\u4ee5\uff0c\u624b\u5199\u8f93\u5165\u7684\u4e2d\u6587\u6570\u636e\u53ef\u4ee5\u5148\u5199\u5165\u5230QString\u4e2d\uff0c\u518d\u6839\u636e\u9700\u8981\u8f6c\u6362\u4e3agb2312\u6216\u8005\u662futf-8\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:'QString test = "\u4e2d\u6587";\r\nprintf(%s\\n",test.toLocal8Bit().data());\r\nLOG(INFO)<<test.toUtf8().data()<<"\\n";\n'})}),"\n",(0,i.jsx)(e.h2,{id:"qstring\u7684\u67e5\u627e\u529f\u80fd",children:"QString\u7684\u67e5\u627e\u529f\u80fd"})]})}function p(t={}){const{wrapper:e}={...(0,l.R)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(d,{...t})}):d(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>c});var r=n(96540);const i={},l=r.createContext(i);function s(t){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function c(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:s(t.components),r.createElement(l.Provider,{value:e},t.children)}}}]);